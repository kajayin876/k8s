<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/><meta name="exporter-version" content="Evernote Mac 9.7.24 (476601)"/><meta name="altitude" content="8"/><meta name="author" content="k1mcu740"/><meta name="created" content="2022-10-08 07:27:37 +0000"/><meta name="latitude" content="31.01037678857433"/><meta name="longitude" content="121.3145751914251"/><meta name="source" content="desktop.mac"/><meta name="updated" content="2022-10-08 07:48:22 +0000"/><title>skywalking 安装kubernetes监控</title></head><body><div>helm repo add prometheus-community <a href="https://prometheus-community.github.io/helm-charts">https://prometheus-community.github.io/helm-charts</a></div><div>helm install kube-state-metrics prometheus-community/kube-state-metrics</div><div><br/></div><div style="color:rgb(0, 0, 0);font-variant-caps:normal;font-variant-ligatures:normal;letter-spacing:normal;orphans:2;white-space:pre-wrap;widows:2;word-spacing:0px;">---</div><div style="color:rgb(0, 0, 0);font-variant-caps:normal;font-variant-ligatures:normal;letter-spacing:normal;orphans:2;white-space:pre-wrap;widows:2;word-spacing:0px;">apiVersion: v1</div><div style="color:rgb(0, 0, 0);font-variant-caps:normal;font-variant-ligatures:normal;letter-spacing:normal;orphans:2;white-space:pre-wrap;widows:2;word-spacing:0px;">kind: ConfigMap</div><div style="color:rgb(0, 0, 0);font-variant-caps:normal;font-variant-ligatures:normal;letter-spacing:normal;orphans:2;white-space:pre-wrap;widows:2;word-spacing:0px;">metadata:</div><div style="color:rgb(0, 0, 0);font-variant-caps:normal;font-variant-ligatures:normal;letter-spacing:normal;orphans:2;white-space:pre-wrap;widows:2;word-spacing:0px;">  name: otel-agent-conf</div><div style="color:rgb(0, 0, 0);font-variant-caps:normal;font-variant-ligatures:normal;letter-spacing:normal;orphans:2;white-space:pre-wrap;widows:2;word-spacing:0px;">  labels:</div><div style="color:rgb(0, 0, 0);font-variant-caps:normal;font-variant-ligatures:normal;letter-spacing:normal;orphans:2;white-space:pre-wrap;widows:2;word-spacing:0px;">    app: opentelemetry</div><div style="color:rgb(0, 0, 0);font-variant-caps:normal;font-variant-ligatures:normal;letter-spacing:normal;orphans:2;white-space:pre-wrap;widows:2;word-spacing:0px;">    component: otel-agent-conf</div><div style="color:rgb(0, 0, 0);font-variant-caps:normal;font-variant-ligatures:normal;letter-spacing:normal;orphans:2;white-space:pre-wrap;widows:2;word-spacing:0px;">data:</div><div style="color:rgb(0, 0, 0);font-variant-caps:normal;font-variant-ligatures:normal;letter-spacing:normal;orphans:2;white-space:pre-wrap;widows:2;word-spacing:0px;">  otel-agent-config: |</div><div style="color:rgb(0, 0, 0);font-variant-caps:normal;font-variant-ligatures:normal;letter-spacing:normal;orphans:2;white-space:pre-wrap;widows:2;word-spacing:0px;">    receivers:</div><div style="color:rgb(0, 0, 0);font-variant-caps:normal;font-variant-ligatures:normal;letter-spacing:normal;orphans:2;white-space:pre-wrap;widows:2;word-spacing:0px;">      otlp:</div><div style="color:rgb(0, 0, 0);font-variant-caps:normal;font-variant-ligatures:normal;letter-spacing:normal;orphans:2;white-space:pre-wrap;widows:2;word-spacing:0px;">        protocols:</div><div style="color:rgb(0, 0, 0);font-variant-caps:normal;font-variant-ligatures:normal;letter-spacing:normal;orphans:2;white-space:pre-wrap;widows:2;word-spacing:0px;">          grpc:</div><div style="color:rgb(0, 0, 0);font-variant-caps:normal;font-variant-ligatures:normal;letter-spacing:normal;orphans:2;white-space:pre-wrap;widows:2;word-spacing:0px;">          http:</div><div style="color:rgb(0, 0, 0);font-variant-caps:normal;font-variant-ligatures:normal;letter-spacing:normal;orphans:2;white-space:pre-wrap;widows:2;word-spacing:0px;">    exporters:</div><div style="color:rgb(0, 0, 0);font-variant-caps:normal;font-variant-ligatures:normal;letter-spacing:normal;orphans:2;white-space:pre-wrap;widows:2;word-spacing:0px;">      otlp:</div><div style="color:rgb(0, 0, 0);font-variant-caps:normal;font-variant-ligatures:normal;letter-spacing:normal;orphans:2;white-space:pre-wrap;widows:2;word-spacing:0px;">        endpoint: "otel-collector.default:4317"</div><div style="color:rgb(0, 0, 0);font-variant-caps:normal;font-variant-ligatures:normal;letter-spacing:normal;orphans:2;white-space:pre-wrap;widows:2;word-spacing:0px;">        tls:</div><div style="color:rgb(0, 0, 0);font-variant-caps:normal;font-variant-ligatures:normal;letter-spacing:normal;orphans:2;white-space:pre-wrap;widows:2;word-spacing:0px;">          insecure: true</div><div style="color:rgb(0, 0, 0);font-variant-caps:normal;font-variant-ligatures:normal;letter-spacing:normal;orphans:2;white-space:pre-wrap;widows:2;word-spacing:0px;">        sending_queue:</div><div style="color:rgb(0, 0, 0);font-variant-caps:normal;font-variant-ligatures:normal;letter-spacing:normal;orphans:2;white-space:pre-wrap;widows:2;word-spacing:0px;">          num_consumers: 4</div><div style="color:rgb(0, 0, 0);font-variant-caps:normal;font-variant-ligatures:normal;letter-spacing:normal;orphans:2;white-space:pre-wrap;widows:2;word-spacing:0px;">          queue_size: 100</div><div style="color:rgb(0, 0, 0);font-variant-caps:normal;font-variant-ligatures:normal;letter-spacing:normal;orphans:2;white-space:pre-wrap;widows:2;word-spacing:0px;">        retry_on_failure:</div><div style="color:rgb(0, 0, 0);font-variant-caps:normal;font-variant-ligatures:normal;letter-spacing:normal;orphans:2;white-space:pre-wrap;widows:2;word-spacing:0px;">          enabled: true</div><div style="color:rgb(0, 0, 0);font-variant-caps:normal;font-variant-ligatures:normal;letter-spacing:normal;orphans:2;white-space:pre-wrap;widows:2;word-spacing:0px;">    processors:</div><div style="color:rgb(0, 0, 0);font-variant-caps:normal;font-variant-ligatures:normal;letter-spacing:normal;orphans:2;white-space:pre-wrap;widows:2;word-spacing:0px;">      batch:</div><div style="color:rgb(0, 0, 0);font-variant-caps:normal;font-variant-ligatures:normal;letter-spacing:normal;orphans:2;white-space:pre-wrap;widows:2;word-spacing:0px;">      memory_limiter:</div><div style="color:rgb(0, 0, 0);font-variant-caps:normal;font-variant-ligatures:normal;letter-spacing:normal;orphans:2;white-space:pre-wrap;widows:2;word-spacing:0px;">        # 80% of maximum memory up to 2G</div><div style="color:rgb(0, 0, 0);font-variant-caps:normal;font-variant-ligatures:normal;letter-spacing:normal;orphans:2;white-space:pre-wrap;widows:2;word-spacing:0px;">        limit_mib: 400</div><div style="color:rgb(0, 0, 0);font-variant-caps:normal;font-variant-ligatures:normal;letter-spacing:normal;orphans:2;white-space:pre-wrap;widows:2;word-spacing:0px;">        # 25% of limit up to 2G</div><div style="color:rgb(0, 0, 0);font-variant-caps:normal;font-variant-ligatures:normal;letter-spacing:normal;orphans:2;white-space:pre-wrap;widows:2;word-spacing:0px;">        spike_limit_mib: 100</div><div style="color:rgb(0, 0, 0);font-variant-caps:normal;font-variant-ligatures:normal;letter-spacing:normal;orphans:2;white-space:pre-wrap;widows:2;word-spacing:0px;">        check_interval: 5s</div><div style="color:rgb(0, 0, 0);font-variant-caps:normal;font-variant-ligatures:normal;letter-spacing:normal;orphans:2;white-space:pre-wrap;widows:2;word-spacing:0px;">    extensions:</div><div style="color:rgb(0, 0, 0);font-variant-caps:normal;font-variant-ligatures:normal;letter-spacing:normal;orphans:2;white-space:pre-wrap;widows:2;word-spacing:0px;">      zpages: {}</div><div style="color:rgb(0, 0, 0);font-variant-caps:normal;font-variant-ligatures:normal;letter-spacing:normal;orphans:2;white-space:pre-wrap;widows:2;word-spacing:0px;">      memory_ballast:</div><div style="color:rgb(0, 0, 0);font-variant-caps:normal;font-variant-ligatures:normal;letter-spacing:normal;orphans:2;white-space:pre-wrap;widows:2;word-spacing:0px;">        # Memory Ballast size should be max 1/3 to 1/2 of memory.</div><div style="color:rgb(0, 0, 0);font-variant-caps:normal;font-variant-ligatures:normal;letter-spacing:normal;orphans:2;white-space:pre-wrap;widows:2;word-spacing:0px;">        size_mib: 165</div><div style="color:rgb(0, 0, 0);font-variant-caps:normal;font-variant-ligatures:normal;letter-spacing:normal;orphans:2;white-space:pre-wrap;widows:2;word-spacing:0px;">    service:</div><div style="color:rgb(0, 0, 0);font-variant-caps:normal;font-variant-ligatures:normal;letter-spacing:normal;orphans:2;white-space:pre-wrap;widows:2;word-spacing:0px;">      extensions: [zpages, memory_ballast]</div><div style="color:rgb(0, 0, 0);font-variant-caps:normal;font-variant-ligatures:normal;letter-spacing:normal;orphans:2;white-space:pre-wrap;widows:2;word-spacing:0px;">      pipelines:</div><div style="color:rgb(0, 0, 0);font-variant-caps:normal;font-variant-ligatures:normal;letter-spacing:normal;orphans:2;white-space:pre-wrap;widows:2;word-spacing:0px;">        traces:</div><div style="color:rgb(0, 0, 0);font-variant-caps:normal;font-variant-ligatures:normal;letter-spacing:normal;orphans:2;white-space:pre-wrap;widows:2;word-spacing:0px;">          receivers: [otlp]</div><div style="color:rgb(0, 0, 0);font-variant-caps:normal;font-variant-ligatures:normal;letter-spacing:normal;orphans:2;white-space:pre-wrap;widows:2;word-spacing:0px;">          processors: [memory_limiter, batch]</div><div style="color:rgb(0, 0, 0);font-variant-caps:normal;font-variant-ligatures:normal;letter-spacing:normal;orphans:2;white-space:pre-wrap;widows:2;word-spacing:0px;">          exporters: [otlp]</div><div style="color:rgb(0, 0, 0);font-variant-caps:normal;font-variant-ligatures:normal;letter-spacing:normal;orphans:2;white-space:pre-wrap;widows:2;word-spacing:0px;">---</div><div style="color:rgb(0, 0, 0);font-variant-caps:normal;font-variant-ligatures:normal;letter-spacing:normal;orphans:2;white-space:pre-wrap;widows:2;word-spacing:0px;">apiVersion: apps/v1</div><div style="color:rgb(0, 0, 0);font-variant-caps:normal;font-variant-ligatures:normal;letter-spacing:normal;orphans:2;white-space:pre-wrap;widows:2;word-spacing:0px;">kind: DaemonSet</div><div style="color:rgb(0, 0, 0);font-variant-caps:normal;font-variant-ligatures:normal;letter-spacing:normal;orphans:2;white-space:pre-wrap;widows:2;word-spacing:0px;">metadata:</div><div style="color:rgb(0, 0, 0);font-variant-caps:normal;font-variant-ligatures:normal;letter-spacing:normal;orphans:2;white-space:pre-wrap;widows:2;word-spacing:0px;">  name: otel-agent</div><div style="color:rgb(0, 0, 0);font-variant-caps:normal;font-variant-ligatures:normal;letter-spacing:normal;orphans:2;white-space:pre-wrap;widows:2;word-spacing:0px;">  labels:</div><div style="color:rgb(0, 0, 0);font-variant-caps:normal;font-variant-ligatures:normal;letter-spacing:normal;orphans:2;white-space:pre-wrap;widows:2;word-spacing:0px;">    app: opentelemetry</div><div style="color:rgb(0, 0, 0);font-variant-caps:normal;font-variant-ligatures:normal;letter-spacing:normal;orphans:2;white-space:pre-wrap;widows:2;word-spacing:0px;">    component: otel-agent</div><div style="color:rgb(0, 0, 0);font-variant-caps:normal;font-variant-ligatures:normal;letter-spacing:normal;orphans:2;white-space:pre-wrap;widows:2;word-spacing:0px;">spec:</div><div style="color:rgb(0, 0, 0);font-variant-caps:normal;font-variant-ligatures:normal;letter-spacing:normal;orphans:2;white-space:pre-wrap;widows:2;word-spacing:0px;">  selector:</div><div style="color:rgb(0, 0, 0);font-variant-caps:normal;font-variant-ligatures:normal;letter-spacing:normal;orphans:2;white-space:pre-wrap;widows:2;word-spacing:0px;">    matchLabels:</div><div style="color:rgb(0, 0, 0);font-variant-caps:normal;font-variant-ligatures:normal;letter-spacing:normal;orphans:2;white-space:pre-wrap;widows:2;word-spacing:0px;">      app: opentelemetry</div><div style="color:rgb(0, 0, 0);font-variant-caps:normal;font-variant-ligatures:normal;letter-spacing:normal;orphans:2;white-space:pre-wrap;widows:2;word-spacing:0px;">      component: otel-agent</div><div style="color:rgb(0, 0, 0);font-variant-caps:normal;font-variant-ligatures:normal;letter-spacing:normal;orphans:2;white-space:pre-wrap;widows:2;word-spacing:0px;">  template:</div><div style="color:rgb(0, 0, 0);font-variant-caps:normal;font-variant-ligatures:normal;letter-spacing:normal;orphans:2;white-space:pre-wrap;widows:2;word-spacing:0px;">    metadata:</div><div style="color:rgb(0, 0, 0);font-variant-caps:normal;font-variant-ligatures:normal;letter-spacing:normal;orphans:2;white-space:pre-wrap;widows:2;word-spacing:0px;">      labels:</div><div style="color:rgb(0, 0, 0);font-variant-caps:normal;font-variant-ligatures:normal;letter-spacing:normal;orphans:2;white-space:pre-wrap;widows:2;word-spacing:0px;">        app: opentelemetry</div><div style="color:rgb(0, 0, 0);font-variant-caps:normal;font-variant-ligatures:normal;letter-spacing:normal;orphans:2;white-space:pre-wrap;widows:2;word-spacing:0px;">        component: otel-agent</div><div style="color:rgb(0, 0, 0);font-variant-caps:normal;font-variant-ligatures:normal;letter-spacing:normal;orphans:2;white-space:pre-wrap;widows:2;word-spacing:0px;">    spec:</div><div style="color:rgb(0, 0, 0);font-variant-caps:normal;font-variant-ligatures:normal;letter-spacing:normal;orphans:2;white-space:pre-wrap;widows:2;word-spacing:0px;">      containers:</div><div style="color:rgb(0, 0, 0);font-variant-caps:normal;font-variant-ligatures:normal;letter-spacing:normal;orphans:2;white-space:pre-wrap;widows:2;word-spacing:0px;">      - command:</div><div style="color:rgb(0, 0, 0);font-variant-caps:normal;font-variant-ligatures:normal;letter-spacing:normal;orphans:2;white-space:pre-wrap;widows:2;word-spacing:0px;">          - "/otelcol"</div><div style="color:rgb(0, 0, 0);font-variant-caps:normal;font-variant-ligatures:normal;letter-spacing:normal;orphans:2;white-space:pre-wrap;widows:2;word-spacing:0px;">          - "--config=/conf/otel-agent-config.yaml"</div><div style="color:rgb(0, 0, 0);font-variant-caps:normal;font-variant-ligatures:normal;letter-spacing:normal;orphans:2;white-space:pre-wrap;widows:2;word-spacing:0px;">        image: otel/opentelemetry-collector:0.61.0</div><div style="color:rgb(0, 0, 0);font-variant-caps:normal;font-variant-ligatures:normal;letter-spacing:normal;orphans:2;white-space:pre-wrap;widows:2;word-spacing:0px;">        name: otel-agent</div><div style="color:rgb(0, 0, 0);font-variant-caps:normal;font-variant-ligatures:normal;letter-spacing:normal;orphans:2;white-space:pre-wrap;widows:2;word-spacing:0px;">        resources:</div><div style="color:rgb(0, 0, 0);font-variant-caps:normal;font-variant-ligatures:normal;letter-spacing:normal;orphans:2;white-space:pre-wrap;widows:2;word-spacing:0px;">          limits:</div><div style="color:rgb(0, 0, 0);font-variant-caps:normal;font-variant-ligatures:normal;letter-spacing:normal;orphans:2;white-space:pre-wrap;widows:2;word-spacing:0px;">            cpu: 500m</div><div style="color:rgb(0, 0, 0);font-variant-caps:normal;font-variant-ligatures:normal;letter-spacing:normal;orphans:2;white-space:pre-wrap;widows:2;word-spacing:0px;">            memory: 500Mi</div><div style="color:rgb(0, 0, 0);font-variant-caps:normal;font-variant-ligatures:normal;letter-spacing:normal;orphans:2;white-space:pre-wrap;widows:2;word-spacing:0px;">          requests:</div><div style="color:rgb(0, 0, 0);font-variant-caps:normal;font-variant-ligatures:normal;letter-spacing:normal;orphans:2;white-space:pre-wrap;widows:2;word-spacing:0px;">            cpu: 100m</div><div style="color:rgb(0, 0, 0);font-variant-caps:normal;font-variant-ligatures:normal;letter-spacing:normal;orphans:2;white-space:pre-wrap;widows:2;word-spacing:0px;">            memory: 100Mi</div><div style="color:rgb(0, 0, 0);font-variant-caps:normal;font-variant-ligatures:normal;letter-spacing:normal;orphans:2;white-space:pre-wrap;widows:2;word-spacing:0px;">        ports:</div><div style="color:rgb(0, 0, 0);font-variant-caps:normal;font-variant-ligatures:normal;letter-spacing:normal;orphans:2;white-space:pre-wrap;widows:2;word-spacing:0px;">        - containerPort: 55679 # ZPages endpoint.</div><div style="color:rgb(0, 0, 0);font-variant-caps:normal;font-variant-ligatures:normal;letter-spacing:normal;orphans:2;white-space:pre-wrap;widows:2;word-spacing:0px;">        - containerPort: 4317 # Default OpenTelemetry receiver port.</div><div style="color:rgb(0, 0, 0);font-variant-caps:normal;font-variant-ligatures:normal;letter-spacing:normal;orphans:2;white-space:pre-wrap;widows:2;word-spacing:0px;">        - containerPort: 8888  # Metrics.</div><div style="color:rgb(0, 0, 0);font-variant-caps:normal;font-variant-ligatures:normal;letter-spacing:normal;orphans:2;white-space:pre-wrap;widows:2;word-spacing:0px;">        volumeMounts:</div><div style="color:rgb(0, 0, 0);font-variant-caps:normal;font-variant-ligatures:normal;letter-spacing:normal;orphans:2;white-space:pre-wrap;widows:2;word-spacing:0px;">        - name: otel-agent-config-vol</div><div style="color:rgb(0, 0, 0);font-variant-caps:normal;font-variant-ligatures:normal;letter-spacing:normal;orphans:2;white-space:pre-wrap;widows:2;word-spacing:0px;">          mountPath: /conf</div><div style="color:rgb(0, 0, 0);font-variant-caps:normal;font-variant-ligatures:normal;letter-spacing:normal;orphans:2;white-space:pre-wrap;widows:2;word-spacing:0px;">      volumes:</div><div style="color:rgb(0, 0, 0);font-variant-caps:normal;font-variant-ligatures:normal;letter-spacing:normal;orphans:2;white-space:pre-wrap;widows:2;word-spacing:0px;">        - configMap:</div><div style="color:rgb(0, 0, 0);font-variant-caps:normal;font-variant-ligatures:normal;letter-spacing:normal;orphans:2;white-space:pre-wrap;widows:2;word-spacing:0px;">            name: otel-agent-conf</div><div style="color:rgb(0, 0, 0);font-variant-caps:normal;font-variant-ligatures:normal;letter-spacing:normal;orphans:2;white-space:pre-wrap;widows:2;word-spacing:0px;">            items:</div><div style="color:rgb(0, 0, 0);font-variant-caps:normal;font-variant-ligatures:normal;letter-spacing:normal;orphans:2;white-space:pre-wrap;widows:2;word-spacing:0px;">              - key: otel-agent-config</div><div style="color:rgb(0, 0, 0);font-variant-caps:normal;font-variant-ligatures:normal;letter-spacing:normal;orphans:2;white-space:pre-wrap;widows:2;word-spacing:0px;">                path: otel-agent-config.yaml</div><div style="color:rgb(0, 0, 0);font-variant-caps:normal;font-variant-ligatures:normal;letter-spacing:normal;orphans:2;white-space:pre-wrap;widows:2;word-spacing:0px;">          name: otel-agent-config-vol</div><div style="color:rgb(0, 0, 0);font-variant-caps:normal;font-variant-ligatures:normal;letter-spacing:normal;orphans:2;white-space:pre-wrap;widows:2;word-spacing:0px;">---</div><div style="color:rgb(0, 0, 0);font-variant-caps:normal;font-variant-ligatures:normal;letter-spacing:normal;orphans:2;white-space:pre-wrap;widows:2;word-spacing:0px;">apiVersion: v1</div><div style="color:rgb(0, 0, 0);font-variant-caps:normal;font-variant-ligatures:normal;letter-spacing:normal;orphans:2;white-space:pre-wrap;widows:2;word-spacing:0px;">kind: ConfigMap</div><div style="color:rgb(0, 0, 0);font-variant-caps:normal;font-variant-ligatures:normal;letter-spacing:normal;orphans:2;white-space:pre-wrap;widows:2;word-spacing:0px;">metadata:</div><div style="color:rgb(0, 0, 0);font-variant-caps:normal;font-variant-ligatures:normal;letter-spacing:normal;orphans:2;white-space:pre-wrap;widows:2;word-spacing:0px;">  name: otel-collector-conf</div><div style="color:rgb(0, 0, 0);font-variant-caps:normal;font-variant-ligatures:normal;letter-spacing:normal;orphans:2;white-space:pre-wrap;widows:2;word-spacing:0px;">  labels:</div><div style="color:rgb(0, 0, 0);font-variant-caps:normal;font-variant-ligatures:normal;letter-spacing:normal;orphans:2;white-space:pre-wrap;widows:2;word-spacing:0px;">    app: opentelemetry</div><div style="color:rgb(0, 0, 0);font-variant-caps:normal;font-variant-ligatures:normal;letter-spacing:normal;orphans:2;white-space:pre-wrap;widows:2;word-spacing:0px;">    component: otel-collector-conf</div><div style="color:rgb(0, 0, 0);font-variant-caps:normal;font-variant-ligatures:normal;letter-spacing:normal;orphans:2;white-space:pre-wrap;widows:2;word-spacing:0px;">data:</div><div style="color:rgb(0, 0, 0);font-variant-caps:normal;font-variant-ligatures:normal;letter-spacing:normal;orphans:2;white-space:pre-wrap;widows:2;word-spacing:0px;">  otel-collector-config: |</div><div style="color:rgb(0, 0, 0);font-variant-caps:normal;font-variant-ligatures:normal;letter-spacing:normal;orphans:2;white-space:pre-wrap;widows:2;word-spacing:0px;">    receivers:</div><div style="color:rgb(0, 0, 0);font-variant-caps:normal;font-variant-ligatures:normal;letter-spacing:normal;orphans:2;white-space:pre-wrap;widows:2;word-spacing:0px;">      otlp:</div><div style="color:rgb(0, 0, 0);font-variant-caps:normal;font-variant-ligatures:normal;letter-spacing:normal;orphans:2;white-space:pre-wrap;widows:2;word-spacing:0px;">        protocols:</div><div style="color:rgb(0, 0, 0);font-variant-caps:normal;font-variant-ligatures:normal;letter-spacing:normal;orphans:2;white-space:pre-wrap;widows:2;word-spacing:0px;">          grpc:</div><div style="color:rgb(0, 0, 0);font-variant-caps:normal;font-variant-ligatures:normal;letter-spacing:normal;orphans:2;white-space:pre-wrap;widows:2;word-spacing:0px;">          http:</div><div style="color:rgb(0, 0, 0);font-variant-caps:normal;font-variant-ligatures:normal;letter-spacing:normal;orphans:2;white-space:pre-wrap;widows:2;word-spacing:0px;">    processors:</div><div style="color:rgb(0, 0, 0);font-variant-caps:normal;font-variant-ligatures:normal;letter-spacing:normal;orphans:2;white-space:pre-wrap;widows:2;word-spacing:0px;">      batch:</div><div style="color:rgb(0, 0, 0);font-variant-caps:normal;font-variant-ligatures:normal;letter-spacing:normal;orphans:2;white-space:pre-wrap;widows:2;word-spacing:0px;">      memory_limiter:</div><div style="color:rgb(0, 0, 0);font-variant-caps:normal;font-variant-ligatures:normal;letter-spacing:normal;orphans:2;white-space:pre-wrap;widows:2;word-spacing:0px;">        # 80% of maximum memory up to 2G</div><div style="color:rgb(0, 0, 0);font-variant-caps:normal;font-variant-ligatures:normal;letter-spacing:normal;orphans:2;white-space:pre-wrap;widows:2;word-spacing:0px;">        limit_mib: 1500</div><div style="color:rgb(0, 0, 0);font-variant-caps:normal;font-variant-ligatures:normal;letter-spacing:normal;orphans:2;white-space:pre-wrap;widows:2;word-spacing:0px;">        # 25% of limit up to 2G</div><div style="color:rgb(0, 0, 0);font-variant-caps:normal;font-variant-ligatures:normal;letter-spacing:normal;orphans:2;white-space:pre-wrap;widows:2;word-spacing:0px;">        spike_limit_mib: 512</div><div style="color:rgb(0, 0, 0);font-variant-caps:normal;font-variant-ligatures:normal;letter-spacing:normal;orphans:2;white-space:pre-wrap;widows:2;word-spacing:0px;">        check_interval: 5s</div><div style="color:rgb(0, 0, 0);font-variant-caps:normal;font-variant-ligatures:normal;letter-spacing:normal;orphans:2;white-space:pre-wrap;widows:2;word-spacing:0px;">    extensions:</div><div style="color:rgb(0, 0, 0);font-variant-caps:normal;font-variant-ligatures:normal;letter-spacing:normal;orphans:2;white-space:pre-wrap;widows:2;word-spacing:0px;">      zpages: {}</div><div style="color:rgb(0, 0, 0);font-variant-caps:normal;font-variant-ligatures:normal;letter-spacing:normal;orphans:2;white-space:pre-wrap;widows:2;word-spacing:0px;">      memory_ballast:</div><div style="color:rgb(0, 0, 0);font-variant-caps:normal;font-variant-ligatures:normal;letter-spacing:normal;orphans:2;white-space:pre-wrap;widows:2;word-spacing:0px;">        # Memory Ballast size should be max 1/3 to 1/2 of memory.</div><div style="color:rgb(0, 0, 0);font-variant-caps:normal;font-variant-ligatures:normal;letter-spacing:normal;orphans:2;white-space:pre-wrap;widows:2;word-spacing:0px;">        size_mib: 683</div><div style="color:rgb(0, 0, 0);font-variant-caps:normal;font-variant-ligatures:normal;letter-spacing:normal;orphans:2;white-space:pre-wrap;widows:2;word-spacing:0px;">    exporters:</div><div style="color:rgb(0, 0, 0);font-variant-caps:normal;font-variant-ligatures:normal;letter-spacing:normal;orphans:2;white-space:pre-wrap;widows:2;word-spacing:0px;">      otlp:</div><div style="color:rgb(0, 0, 0);font-variant-caps:normal;font-variant-ligatures:normal;letter-spacing:normal;orphans:2;white-space:pre-wrap;widows:2;word-spacing:0px;">        endpoint: "<a href="http://someotlp.target.com:4317">http://someotlp.target.com:4317</a>" # Replace with a real endpoint.</div><div style="color:rgb(0, 0, 0);font-variant-caps:normal;font-variant-ligatures:normal;letter-spacing:normal;orphans:2;white-space:pre-wrap;widows:2;word-spacing:0px;">        tls:</div><div style="color:rgb(0, 0, 0);font-variant-caps:normal;font-variant-ligatures:normal;letter-spacing:normal;orphans:2;white-space:pre-wrap;widows:2;word-spacing:0px;">          insecure: true</div><div style="color:rgb(0, 0, 0);font-variant-caps:normal;font-variant-ligatures:normal;letter-spacing:normal;orphans:2;white-space:pre-wrap;widows:2;word-spacing:0px;">    service:</div><div style="color:rgb(0, 0, 0);font-variant-caps:normal;font-variant-ligatures:normal;letter-spacing:normal;orphans:2;white-space:pre-wrap;widows:2;word-spacing:0px;">      extensions: [zpages, memory_ballast]</div><div style="color:rgb(0, 0, 0);font-variant-caps:normal;font-variant-ligatures:normal;letter-spacing:normal;orphans:2;white-space:pre-wrap;widows:2;word-spacing:0px;">      pipelines:</div><div style="color:rgb(0, 0, 0);font-variant-caps:normal;font-variant-ligatures:normal;letter-spacing:normal;orphans:2;white-space:pre-wrap;widows:2;word-spacing:0px;">        traces/1:</div><div style="color:rgb(0, 0, 0);font-variant-caps:normal;font-variant-ligatures:normal;letter-spacing:normal;orphans:2;white-space:pre-wrap;widows:2;word-spacing:0px;">          receivers: [otlp]</div><div style="color:rgb(0, 0, 0);font-variant-caps:normal;font-variant-ligatures:normal;letter-spacing:normal;orphans:2;white-space:pre-wrap;widows:2;word-spacing:0px;">          processors: [memory_limiter, batch]</div><div style="color:rgb(0, 0, 0);font-variant-caps:normal;font-variant-ligatures:normal;letter-spacing:normal;orphans:2;white-space:pre-wrap;widows:2;word-spacing:0px;">          exporters: [otlp]</div><div style="color:rgb(0, 0, 0);font-variant-caps:normal;font-variant-ligatures:normal;letter-spacing:normal;orphans:2;white-space:pre-wrap;widows:2;word-spacing:0px;">---</div><div style="color:rgb(0, 0, 0);font-variant-caps:normal;font-variant-ligatures:normal;letter-spacing:normal;orphans:2;white-space:pre-wrap;widows:2;word-spacing:0px;">apiVersion: v1</div><div style="color:rgb(0, 0, 0);font-variant-caps:normal;font-variant-ligatures:normal;letter-spacing:normal;orphans:2;white-space:pre-wrap;widows:2;word-spacing:0px;">kind: Service</div><div style="color:rgb(0, 0, 0);font-variant-caps:normal;font-variant-ligatures:normal;letter-spacing:normal;orphans:2;white-space:pre-wrap;widows:2;word-spacing:0px;">metadata:</div><div style="color:rgb(0, 0, 0);font-variant-caps:normal;font-variant-ligatures:normal;letter-spacing:normal;orphans:2;white-space:pre-wrap;widows:2;word-spacing:0px;">  name: otel-collector</div><div style="color:rgb(0, 0, 0);font-variant-caps:normal;font-variant-ligatures:normal;letter-spacing:normal;orphans:2;white-space:pre-wrap;widows:2;word-spacing:0px;">  labels:</div><div style="color:rgb(0, 0, 0);font-variant-caps:normal;font-variant-ligatures:normal;letter-spacing:normal;orphans:2;white-space:pre-wrap;widows:2;word-spacing:0px;">    app: opentelemetry</div><div style="color:rgb(0, 0, 0);font-variant-caps:normal;font-variant-ligatures:normal;letter-spacing:normal;orphans:2;white-space:pre-wrap;widows:2;word-spacing:0px;">    component: otel-collector</div><div style="color:rgb(0, 0, 0);font-variant-caps:normal;font-variant-ligatures:normal;letter-spacing:normal;orphans:2;white-space:pre-wrap;widows:2;word-spacing:0px;">spec:</div><div style="color:rgb(0, 0, 0);font-variant-caps:normal;font-variant-ligatures:normal;letter-spacing:normal;orphans:2;white-space:pre-wrap;widows:2;word-spacing:0px;">  ports:</div><div style="color:rgb(0, 0, 0);font-variant-caps:normal;font-variant-ligatures:normal;letter-spacing:normal;orphans:2;white-space:pre-wrap;widows:2;word-spacing:0px;">  - name: otlp-grpc # Default endpoint for OpenTelemetry gRPC receiver.</div><div style="color:rgb(0, 0, 0);font-variant-caps:normal;font-variant-ligatures:normal;letter-spacing:normal;orphans:2;white-space:pre-wrap;widows:2;word-spacing:0px;">    port: 4317</div><div style="color:rgb(0, 0, 0);font-variant-caps:normal;font-variant-ligatures:normal;letter-spacing:normal;orphans:2;white-space:pre-wrap;widows:2;word-spacing:0px;">    protocol: TCP</div><div style="color:rgb(0, 0, 0);font-variant-caps:normal;font-variant-ligatures:normal;letter-spacing:normal;orphans:2;white-space:pre-wrap;widows:2;word-spacing:0px;">    targetPort: 4317</div><div style="color:rgb(0, 0, 0);font-variant-caps:normal;font-variant-ligatures:normal;letter-spacing:normal;orphans:2;white-space:pre-wrap;widows:2;word-spacing:0px;">  - name: otlp-http # Default endpoint for OpenTelemetry HTTP receiver.</div><div style="color:rgb(0, 0, 0);font-variant-caps:normal;font-variant-ligatures:normal;letter-spacing:normal;orphans:2;white-space:pre-wrap;widows:2;word-spacing:0px;">    port: 4318</div><div style="color:rgb(0, 0, 0);font-variant-caps:normal;font-variant-ligatures:normal;letter-spacing:normal;orphans:2;white-space:pre-wrap;widows:2;word-spacing:0px;">    protocol: TCP</div><div style="color:rgb(0, 0, 0);font-variant-caps:normal;font-variant-ligatures:normal;letter-spacing:normal;orphans:2;white-space:pre-wrap;widows:2;word-spacing:0px;">    targetPort: 4318</div><div style="color:rgb(0, 0, 0);font-variant-caps:normal;font-variant-ligatures:normal;letter-spacing:normal;orphans:2;white-space:pre-wrap;widows:2;word-spacing:0px;">  - name: metrics # Default endpoint for querying metrics.</div><div style="color:rgb(0, 0, 0);font-variant-caps:normal;font-variant-ligatures:normal;letter-spacing:normal;orphans:2;white-space:pre-wrap;widows:2;word-spacing:0px;">    port: 8888</div><div style="color:rgb(0, 0, 0);font-variant-caps:normal;font-variant-ligatures:normal;letter-spacing:normal;orphans:2;white-space:pre-wrap;widows:2;word-spacing:0px;">  selector:</div><div style="color:rgb(0, 0, 0);font-variant-caps:normal;font-variant-ligatures:normal;letter-spacing:normal;orphans:2;white-space:pre-wrap;widows:2;word-spacing:0px;">    component: otel-collector</div><div style="color:rgb(0, 0, 0);font-variant-caps:normal;font-variant-ligatures:normal;letter-spacing:normal;orphans:2;white-space:pre-wrap;widows:2;word-spacing:0px;">---</div><div style="color:rgb(0, 0, 0);font-variant-caps:normal;font-variant-ligatures:normal;letter-spacing:normal;orphans:2;white-space:pre-wrap;widows:2;word-spacing:0px;">apiVersion: apps/v1</div><div style="color:rgb(0, 0, 0);font-variant-caps:normal;font-variant-ligatures:normal;letter-spacing:normal;orphans:2;white-space:pre-wrap;widows:2;word-spacing:0px;">kind: Deployment</div><div style="color:rgb(0, 0, 0);font-variant-caps:normal;font-variant-ligatures:normal;letter-spacing:normal;orphans:2;white-space:pre-wrap;widows:2;word-spacing:0px;">metadata:</div><div style="color:rgb(0, 0, 0);font-variant-caps:normal;font-variant-ligatures:normal;letter-spacing:normal;orphans:2;white-space:pre-wrap;widows:2;word-spacing:0px;">  name: otel-collector</div><div style="color:rgb(0, 0, 0);font-variant-caps:normal;font-variant-ligatures:normal;letter-spacing:normal;orphans:2;white-space:pre-wrap;widows:2;word-spacing:0px;">  labels:</div><div style="color:rgb(0, 0, 0);font-variant-caps:normal;font-variant-ligatures:normal;letter-spacing:normal;orphans:2;white-space:pre-wrap;widows:2;word-spacing:0px;">    app: opentelemetry</div><div style="color:rgb(0, 0, 0);font-variant-caps:normal;font-variant-ligatures:normal;letter-spacing:normal;orphans:2;white-space:pre-wrap;widows:2;word-spacing:0px;">    component: otel-collector</div><div style="color:rgb(0, 0, 0);font-variant-caps:normal;font-variant-ligatures:normal;letter-spacing:normal;orphans:2;white-space:pre-wrap;widows:2;word-spacing:0px;">spec:</div><div style="color:rgb(0, 0, 0);font-variant-caps:normal;font-variant-ligatures:normal;letter-spacing:normal;orphans:2;white-space:pre-wrap;widows:2;word-spacing:0px;">  selector:</div><div style="color:rgb(0, 0, 0);font-variant-caps:normal;font-variant-ligatures:normal;letter-spacing:normal;orphans:2;white-space:pre-wrap;widows:2;word-spacing:0px;">    matchLabels:</div><div style="color:rgb(0, 0, 0);font-variant-caps:normal;font-variant-ligatures:normal;letter-spacing:normal;orphans:2;white-space:pre-wrap;widows:2;word-spacing:0px;">      app: opentelemetry</div><div style="color:rgb(0, 0, 0);font-variant-caps:normal;font-variant-ligatures:normal;letter-spacing:normal;orphans:2;white-space:pre-wrap;widows:2;word-spacing:0px;">      component: otel-collector</div><div style="color:rgb(0, 0, 0);font-variant-caps:normal;font-variant-ligatures:normal;letter-spacing:normal;orphans:2;white-space:pre-wrap;widows:2;word-spacing:0px;">  minReadySeconds: 5</div><div style="color:rgb(0, 0, 0);font-variant-caps:normal;font-variant-ligatures:normal;letter-spacing:normal;orphans:2;white-space:pre-wrap;widows:2;word-spacing:0px;">  progressDeadlineSeconds: 120</div><div style="color:rgb(0, 0, 0);font-variant-caps:normal;font-variant-ligatures:normal;letter-spacing:normal;orphans:2;white-space:pre-wrap;widows:2;word-spacing:0px;">  replicas: 1 #TODO - adjust this to your own requirements</div><div style="color:rgb(0, 0, 0);font-variant-caps:normal;font-variant-ligatures:normal;letter-spacing:normal;orphans:2;white-space:pre-wrap;widows:2;word-spacing:0px;">  template:</div><div style="color:rgb(0, 0, 0);font-variant-caps:normal;font-variant-ligatures:normal;letter-spacing:normal;orphans:2;white-space:pre-wrap;widows:2;word-spacing:0px;">    metadata:</div><div style="color:rgb(0, 0, 0);font-variant-caps:normal;font-variant-ligatures:normal;letter-spacing:normal;orphans:2;white-space:pre-wrap;widows:2;word-spacing:0px;">      labels:</div><div style="color:rgb(0, 0, 0);font-variant-caps:normal;font-variant-ligatures:normal;letter-spacing:normal;orphans:2;white-space:pre-wrap;widows:2;word-spacing:0px;">        app: opentelemetry</div><div style="color:rgb(0, 0, 0);font-variant-caps:normal;font-variant-ligatures:normal;letter-spacing:normal;orphans:2;white-space:pre-wrap;widows:2;word-spacing:0px;">        component: otel-collector</div><div style="color:rgb(0, 0, 0);font-variant-caps:normal;font-variant-ligatures:normal;letter-spacing:normal;orphans:2;white-space:pre-wrap;widows:2;word-spacing:0px;">    spec:</div><div style="color:rgb(0, 0, 0);font-variant-caps:normal;font-variant-ligatures:normal;letter-spacing:normal;orphans:2;white-space:pre-wrap;widows:2;word-spacing:0px;">      containers:</div><div style="color:rgb(0, 0, 0);font-variant-caps:normal;font-variant-ligatures:normal;letter-spacing:normal;orphans:2;white-space:pre-wrap;widows:2;word-spacing:0px;">      - command:</div><div style="color:rgb(0, 0, 0);font-variant-caps:normal;font-variant-ligatures:normal;letter-spacing:normal;orphans:2;white-space:pre-wrap;widows:2;word-spacing:0px;">          - "/otelcol"</div><div style="color:rgb(0, 0, 0);font-variant-caps:normal;font-variant-ligatures:normal;letter-spacing:normal;orphans:2;white-space:pre-wrap;widows:2;word-spacing:0px;">          - "--config=/conf/otel-collector-config.yaml"</div><div style="color:rgb(0, 0, 0);font-variant-caps:normal;font-variant-ligatures:normal;letter-spacing:normal;orphans:2;white-space:pre-wrap;widows:2;word-spacing:0px;">        image: otel/opentelemetry-collector:0.61.0</div><div style="color:rgb(0, 0, 0);font-variant-caps:normal;font-variant-ligatures:normal;letter-spacing:normal;orphans:2;white-space:pre-wrap;widows:2;word-spacing:0px;">        name: otel-collector</div><div style="color:rgb(0, 0, 0);font-variant-caps:normal;font-variant-ligatures:normal;letter-spacing:normal;orphans:2;white-space:pre-wrap;widows:2;word-spacing:0px;">        resources:</div><div style="color:rgb(0, 0, 0);font-variant-caps:normal;font-variant-ligatures:normal;letter-spacing:normal;orphans:2;white-space:pre-wrap;widows:2;word-spacing:0px;">          limits:</div><div style="color:rgb(0, 0, 0);font-variant-caps:normal;font-variant-ligatures:normal;letter-spacing:normal;orphans:2;white-space:pre-wrap;widows:2;word-spacing:0px;">            cpu: 1</div><div style="color:rgb(0, 0, 0);font-variant-caps:normal;font-variant-ligatures:normal;letter-spacing:normal;orphans:2;white-space:pre-wrap;widows:2;word-spacing:0px;">            memory: 2Gi</div><div style="color:rgb(0, 0, 0);font-variant-caps:normal;font-variant-ligatures:normal;letter-spacing:normal;orphans:2;white-space:pre-wrap;widows:2;word-spacing:0px;">          requests:</div><div style="color:rgb(0, 0, 0);font-variant-caps:normal;font-variant-ligatures:normal;letter-spacing:normal;orphans:2;white-space:pre-wrap;widows:2;word-spacing:0px;">            cpu: 200m</div><div style="color:rgb(0, 0, 0);font-variant-caps:normal;font-variant-ligatures:normal;letter-spacing:normal;orphans:2;white-space:pre-wrap;widows:2;word-spacing:0px;">            memory: 400Mi</div><div style="color:rgb(0, 0, 0);font-variant-caps:normal;font-variant-ligatures:normal;letter-spacing:normal;orphans:2;white-space:pre-wrap;widows:2;word-spacing:0px;">        ports:</div><div style="color:rgb(0, 0, 0);font-variant-caps:normal;font-variant-ligatures:normal;letter-spacing:normal;orphans:2;white-space:pre-wrap;widows:2;word-spacing:0px;">        - containerPort: 55679 # Default endpoint for ZPages.</div><div style="color:rgb(0, 0, 0);font-variant-caps:normal;font-variant-ligatures:normal;letter-spacing:normal;orphans:2;white-space:pre-wrap;widows:2;word-spacing:0px;">        - containerPort: 4317 # Default endpoint for OpenTelemetry receiver.</div><div style="color:rgb(0, 0, 0);font-variant-caps:normal;font-variant-ligatures:normal;letter-spacing:normal;orphans:2;white-space:pre-wrap;widows:2;word-spacing:0px;">        - containerPort: 14250 # Default endpoint for Jaeger gRPC receiver.</div><div style="color:rgb(0, 0, 0);font-variant-caps:normal;font-variant-ligatures:normal;letter-spacing:normal;orphans:2;white-space:pre-wrap;widows:2;word-spacing:0px;">        - containerPort: 14268 # Default endpoint for Jaeger HTTP receiver.</div><div style="color:rgb(0, 0, 0);font-variant-caps:normal;font-variant-ligatures:normal;letter-spacing:normal;orphans:2;white-space:pre-wrap;widows:2;word-spacing:0px;">        - containerPort: 9411 # Default endpoint for Zipkin receiver.</div><div style="color:rgb(0, 0, 0);font-variant-caps:normal;font-variant-ligatures:normal;letter-spacing:normal;orphans:2;white-space:pre-wrap;widows:2;word-spacing:0px;">        - containerPort: 8888  # Default endpoint for querying metrics.</div><div style="color:rgb(0, 0, 0);font-variant-caps:normal;font-variant-ligatures:normal;letter-spacing:normal;orphans:2;white-space:pre-wrap;widows:2;word-spacing:0px;">        volumeMounts:</div><div style="color:rgb(0, 0, 0);font-variant-caps:normal;font-variant-ligatures:normal;letter-spacing:normal;orphans:2;white-space:pre-wrap;widows:2;word-spacing:0px;">        - name: otel-collector-config-vol</div><div style="color:rgb(0, 0, 0);font-variant-caps:normal;font-variant-ligatures:normal;letter-spacing:normal;orphans:2;white-space:pre-wrap;widows:2;word-spacing:0px;">          mountPath: /conf</div><div style="color:rgb(0, 0, 0);font-variant-caps:normal;font-variant-ligatures:normal;letter-spacing:normal;orphans:2;white-space:pre-wrap;widows:2;word-spacing:0px;">#        - name: otel-collector-secrets</div><div style="color:rgb(0, 0, 0);font-variant-caps:normal;font-variant-ligatures:normal;letter-spacing:normal;orphans:2;white-space:pre-wrap;widows:2;word-spacing:0px;">#          mountPath: /secrets</div><div style="color:rgb(0, 0, 0);font-variant-caps:normal;font-variant-ligatures:normal;letter-spacing:normal;orphans:2;white-space:pre-wrap;widows:2;word-spacing:0px;">      volumes:</div><div style="color:rgb(0, 0, 0);font-variant-caps:normal;font-variant-ligatures:normal;letter-spacing:normal;orphans:2;white-space:pre-wrap;widows:2;word-spacing:0px;">        - configMap:</div><div style="color:rgb(0, 0, 0);font-variant-caps:normal;font-variant-ligatures:normal;letter-spacing:normal;orphans:2;white-space:pre-wrap;widows:2;word-spacing:0px;">            name: otel-collector-conf</div><div style="color:rgb(0, 0, 0);font-variant-caps:normal;font-variant-ligatures:normal;letter-spacing:normal;orphans:2;white-space:pre-wrap;widows:2;word-spacing:0px;">            items:</div><div style="color:rgb(0, 0, 0);font-variant-caps:normal;font-variant-ligatures:normal;letter-spacing:normal;orphans:2;white-space:pre-wrap;widows:2;word-spacing:0px;">              - key: otel-collector-config</div><div style="color:rgb(0, 0, 0);font-variant-caps:normal;font-variant-ligatures:normal;letter-spacing:normal;orphans:2;white-space:pre-wrap;widows:2;word-spacing:0px;">                path: otel-collector-config.yaml</div><div style="color:rgb(0, 0, 0);font-variant-caps:normal;font-variant-ligatures:normal;letter-spacing:normal;orphans:2;white-space:pre-wrap;widows:2;word-spacing:0px;">          name: otel-collector-config-vol</div><div style="color:rgb(0, 0, 0);font-variant-caps:normal;font-variant-ligatures:normal;letter-spacing:normal;orphans:2;white-space:pre-wrap;widows:2;word-spacing:0px;">#        - secret:</div><div style="color:rgb(0, 0, 0);font-variant-caps:normal;font-variant-ligatures:normal;letter-spacing:normal;orphans:2;white-space:pre-wrap;widows:2;word-spacing:0px;">#            name: otel-collector-secrets</div><div style="color:rgb(0, 0, 0);font-variant-caps:normal;font-variant-ligatures:normal;letter-spacing:normal;orphans:2;white-space:pre-wrap;widows:2;word-spacing:0px;">#            items:</div><div style="color:rgb(0, 0, 0);font-variant-caps:normal;font-variant-ligatures:normal;letter-spacing:normal;orphans:2;white-space:pre-wrap;widows:2;word-spacing:0px;">#              - key: cert.pem</div><div style="color:rgb(0, 0, 0);font-variant-caps:normal;font-variant-ligatures:normal;letter-spacing:normal;orphans:2;white-space:pre-wrap;widows:2;word-spacing:0px;">#                path: cert.pem</div><div style="color:rgb(0, 0, 0);font-variant-caps:normal;font-variant-ligatures:normal;letter-spacing:normal;orphans:2;white-space:pre-wrap;widows:2;word-spacing:0px;">#              - key: key.pem</div><div style="color:rgb(0, 0, 0);font-variant-caps:normal;font-variant-ligatures:normal;letter-spacing:normal;orphans:2;white-space:pre-wrap;widows:2;word-spacing:0px;">#                path: key.pem</div><div style="color:rgb(0, 0, 0);font-variant-caps:normal;font-variant-ligatures:normal;letter-spacing:normal;orphans:2;white-space:pre-wrap;widows:2;word-spacing:0px;"><br/></div><div style="color:rgb(0, 0, 0);font-variant-caps:normal;font-variant-ligatures:normal;letter-spacing:normal;orphans:2;white-space:pre-wrap;widows:2;word-spacing:0px;"><br/></div><div style="color:rgb(0, 0, 0);font-variant-caps:normal;font-variant-ligatures:normal;letter-spacing:normal;orphans:2;white-space:pre-wrap;widows:2;word-spacing:0px;">kube-state-metrics.default.svc.cluster.local:8080/metrics<br/></div><div style="color:rgb(0, 0, 0);font-variant-caps:normal;font-variant-ligatures:normal;letter-spacing:normal;orphans:2;white-space:pre-wrap;widows:2;word-spacing:0px;"><br/></div><div style="color:rgb(0, 0, 0);font-variant-caps:normal;font-variant-ligatures:normal;letter-spacing:normal;orphans:2;white-space:pre-wrap;widows:2;word-spacing:0px;"><br/></div><div style="color:rgb(0, 0, 0);font-variant-caps:normal;font-variant-ligatures:normal;letter-spacing:normal;orphans:2;white-space:pre-wrap;widows:2;word-spacing:0px;"><br/></div><div style="background-color:rgb(246, 246, 246);color:rgb(18, 18, 18);font-size:0.9em;font-variant-caps:normal;font-variant-ligatures:normal;letter-spacing:normal;orphans:2;white-space:pre;widows:2;word-spacing:0px;"><span style="border-radius: 0px; font-family: Menlo, Monaco, Consolas, &quot;Andale Mono&quot;, &quot;lucida console&quot;, &quot;Courier New&quot;, monospace;"># otel-agent config</span></div><div style="background-color:rgb(246, 246, 246);color:rgb(18, 18, 18);font-size:0.9em;font-variant-caps:normal;font-variant-ligatures:normal;letter-spacing:normal;orphans:2;white-space:pre;widows:2;word-spacing:0px;"><span style="border-radius: 0px; font-family: Menlo, Monaco, Consolas, &quot;Andale Mono&quot;, &quot;lucida console&quot;, &quot;Courier New&quot;, monospace;">receivers:</span></div><div style="background-color:rgb(246, 246, 246);color:rgb(18, 18, 18);font-size:0.9em;font-variant-caps:normal;font-variant-ligatures:normal;letter-spacing:normal;orphans:2;white-space:pre;widows:2;word-spacing:0px;"><span style="border-radius: 0px; font-family: Menlo, Monaco, Consolas, &quot;Andale Mono&quot;, &quot;lucida console&quot;, &quot;Courier New&quot;, monospace;">  # add the following config</span></div><div style="background-color:rgb(246, 246, 246);color:rgb(18, 18, 18);font-size:0.9em;font-variant-caps:normal;font-variant-ligatures:normal;letter-spacing:normal;orphans:2;white-space:pre;widows:2;word-spacing:0px;"><span style="border-radius: 0px; font-family: Menlo, Monaco, Consolas, &quot;Andale Mono&quot;, &quot;lucida console&quot;, &quot;Courier New&quot;, monospace;">  skywalking:</span></div><div style="background-color:rgb(246, 246, 246);color:rgb(18, 18, 18);font-size:0.9em;font-variant-caps:normal;font-variant-ligatures:normal;letter-spacing:normal;orphans:2;white-space:pre;widows:2;word-spacing:0px;"><span style="border-radius: 0px; font-family: Menlo, Monaco, Consolas, &quot;Andale Mono&quot;, &quot;lucida console&quot;, &quot;Courier New&quot;, monospace;">    protocols:</span></div><div style="background-color:rgb(246, 246, 246);color:rgb(18, 18, 18);font-size:0.9em;font-variant-caps:normal;font-variant-ligatures:normal;letter-spacing:normal;orphans:2;white-space:pre;widows:2;word-spacing:0px;"><span style="border-radius: 0px; font-family: Menlo, Monaco, Consolas, &quot;Andale Mono&quot;, &quot;lucida console&quot;, &quot;Courier New&quot;, monospace;">      grpc:</span></div><div style="background-color:rgb(246, 246, 246);color:rgb(18, 18, 18);font-size:0.9em;font-variant-caps:normal;font-variant-ligatures:normal;letter-spacing:normal;orphans:2;white-space:pre;widows:2;word-spacing:0px;"><span style="border-radius: 0px; font-family: Menlo, Monaco, Consolas, &quot;Andale Mono&quot;, &quot;lucida console&quot;, &quot;Courier New&quot;, monospace;">        endpoint: 0.0.0.0:11800 # 接收 SkyWalking Agent 上报的 Trace 数据</span></div><div style="background-color:rgb(246, 246, 246);color:rgb(18, 18, 18);font-size:0.9em;font-variant-caps:normal;font-variant-ligatures:normal;letter-spacing:normal;orphans:2;white-space:pre;widows:2;word-spacing:0px;"><span style="border-radius: 0px; font-family: Menlo, Monaco, Consolas, &quot;Andale Mono&quot;, &quot;lucida console&quot;, &quot;Courier New&quot;, monospace;">      http:</span></div><div style="background-color:rgb(246, 246, 246);color:rgb(18, 18, 18);font-size:0.9em;font-variant-caps:normal;font-variant-ligatures:normal;letter-spacing:normal;orphans:2;white-space:pre;widows:2;word-spacing:0px;"><span style="border-radius: 0px; font-family: Menlo, Monaco, Consolas, &quot;Andale Mono&quot;, &quot;lucida console&quot;, &quot;Courier New&quot;, monospace;">        endpoint: 0.0.0.0:12800 # 接收从前端/ nginx 等 HTTP 协议上报的 Trace 数据</span></div><div style="background-color:rgb(246, 246, 246);color:rgb(18, 18, 18);font-size:0.9em;font-variant-caps:normal;font-variant-ligatures:normal;letter-spacing:normal;orphans:2;white-space:pre;widows:2;word-spacing:0px;"><span style="border-radius: 0px; font-family: Menlo, Monaco, Consolas, &quot;Andale Mono&quot;, &quot;lucida console&quot;, &quot;Courier New&quot;, monospace;">service:</span></div><div style="background-color:rgb(246, 246, 246);color:rgb(18, 18, 18);font-size:0.9em;font-variant-caps:normal;font-variant-ligatures:normal;letter-spacing:normal;orphans:2;white-space:pre;widows:2;word-spacing:0px;"><span style="border-radius: 0px; font-family: Menlo, Monaco, Consolas, &quot;Andale Mono&quot;, &quot;lucida console&quot;, &quot;Courier New&quot;, monospace;">  pipelines:</span></div><div style="background-color:rgb(246, 246, 246);color:rgb(18, 18, 18);font-size:0.9em;font-variant-caps:normal;font-variant-ligatures:normal;letter-spacing:normal;orphans:2;white-space:pre;widows:2;word-spacing:0px;"><span style="border-radius: 0px; font-family: Menlo, Monaco, Consolas, &quot;Andale Mono&quot;, &quot;lucida console&quot;, &quot;Courier New&quot;, monospace;">    traces:</span></div><div style="background-color:rgb(246, 246, 246);color:rgb(18, 18, 18);font-size:0.9em;font-variant-caps:normal;font-variant-ligatures:normal;letter-spacing:normal;orphans:2;white-space:pre;widows:2;word-spacing:0px;"><span style="border-radius: 0px; font-family: Menlo, Monaco, Consolas, &quot;Andale Mono&quot;, &quot;lucida console&quot;, &quot;Courier New&quot;, monospace;">      # add receiver `skywalking`</span></div><div style="background-color:rgb(246, 246, 246);color:rgb(18, 18, 18);font-size:0.9em;font-variant-caps:normal;font-variant-ligatures:normal;letter-spacing:normal;orphans:2;white-space:pre;widows:2;word-spacing:0px;"><span style="border-radius: 0px; font-family: Menlo, Monaco, Consolas, &quot;Andale Mono&quot;, &quot;lucida console&quot;, &quot;Courier New&quot;, monospace;">      receivers: [skywalking]</span></div><div style="background-color:rgb(246, 246, 246);color:rgb(18, 18, 18);font-size:0.9em;font-variant-caps:normal;font-variant-ligatures:normal;letter-spacing:normal;orphans:2;white-space:pre;widows:2;word-spacing:0px;"><br/></div><div style="background-color:rgb(246, 246, 246);color:rgb(18, 18, 18);font-size:0.9em;font-variant-caps:normal;font-variant-ligatures:normal;letter-spacing:normal;orphans:2;white-space:pre;widows:2;word-spacing:0px;"><span style="border-radius: 0px; font-family: Menlo, Monaco, Consolas, &quot;Andale Mono&quot;, &quot;lucida console&quot;, &quot;Courier New&quot;, monospace;"># otel-agent service yaml</span></div><div style="background-color:rgb(246, 246, 246);color:rgb(18, 18, 18);font-size:0.9em;font-variant-caps:normal;font-variant-ligatures:normal;letter-spacing:normal;orphans:2;white-space:pre;widows:2;word-spacing:0px;"><span style="border-radius: 0px; font-family: Menlo, Monaco, Consolas, &quot;Andale Mono&quot;, &quot;lucida console&quot;, &quot;Courier New&quot;, monospace;">spec:</span></div><div style="background-color:rgb(246, 246, 246);color:rgb(18, 18, 18);font-size:0.9em;font-variant-caps:normal;font-variant-ligatures:normal;letter-spacing:normal;orphans:2;white-space:pre;widows:2;word-spacing:0px;"><span style="border-radius: 0px; font-family: Menlo, Monaco, Consolas, &quot;Andale Mono&quot;, &quot;lucida console&quot;, &quot;Courier New&quot;, monospace;">  ports:</span></div><div style="background-color:rgb(246, 246, 246);color:rgb(18, 18, 18);font-size:0.9em;font-variant-caps:normal;font-variant-ligatures:normal;letter-spacing:normal;orphans:2;white-space:pre;widows:2;word-spacing:0px;"><span style="border-radius: 0px; font-family: Menlo, Monaco, Consolas, &quot;Andale Mono&quot;, &quot;lucida console&quot;, &quot;Courier New&quot;, monospace;">    - name: sw-http</span></div><div style="background-color:rgb(246, 246, 246);color:rgb(18, 18, 18);font-size:0.9em;font-variant-caps:normal;font-variant-ligatures:normal;letter-spacing:normal;orphans:2;white-space:pre;widows:2;word-spacing:0px;"><span style="border-radius: 0px; font-family: Menlo, Monaco, Consolas, &quot;Andale Mono&quot;, &quot;lucida console&quot;, &quot;Courier New&quot;, monospace;">      port: 12800</span></div><div style="background-color:rgb(246, 246, 246);color:rgb(18, 18, 18);font-size:0.9em;font-variant-caps:normal;font-variant-ligatures:normal;letter-spacing:normal;orphans:2;white-space:pre;widows:2;word-spacing:0px;"><span style="border-radius: 0px; font-family: Menlo, Monaco, Consolas, &quot;Andale Mono&quot;, &quot;lucida console&quot;, &quot;Courier New&quot;, monospace;">      protocol: TCP</span></div><div style="background-color:rgb(246, 246, 246);color:rgb(18, 18, 18);font-size:0.9em;font-variant-caps:normal;font-variant-ligatures:normal;letter-spacing:normal;orphans:2;white-space:pre;widows:2;word-spacing:0px;"><span style="border-radius: 0px; font-family: Menlo, Monaco, Consolas, &quot;Andale Mono&quot;, &quot;lucida console&quot;, &quot;Courier New&quot;, monospace;">      targetPort: 12800</span></div><div style="background-color:rgb(246, 246, 246);color:rgb(18, 18, 18);font-size:0.9em;font-variant-caps:normal;font-variant-ligatures:normal;letter-spacing:normal;orphans:2;white-space:pre;widows:2;word-spacing:0px;"><span style="border-radius: 0px; font-family: Menlo, Monaco, Consolas, &quot;Andale Mono&quot;, &quot;lucida console&quot;, &quot;Courier New&quot;, monospace;">    - name: sw-grpc</span></div><div style="background-color:rgb(246, 246, 246);color:rgb(18, 18, 18);font-size:0.9em;font-variant-caps:normal;font-variant-ligatures:normal;letter-spacing:normal;orphans:2;white-space:pre;widows:2;word-spacing:0px;"><span style="border-radius: 0px; font-family: Menlo, Monaco, Consolas, &quot;Andale Mono&quot;, &quot;lucida console&quot;, &quot;Courier New&quot;, monospace;">      port: 11800</span></div><div style="background-color:rgb(246, 246, 246);color:rgb(18, 18, 18);font-size:0.9em;font-variant-caps:normal;font-variant-ligatures:normal;letter-spacing:normal;orphans:2;white-space:pre;widows:2;word-spacing:0px;"><span style="border-radius: 0px; font-family: Menlo, Monaco, Consolas, &quot;Andale Mono&quot;, &quot;lucida console&quot;, &quot;Courier New&quot;, monospace;">      protocol: TCP</span></div><div style="color:rgb(0, 0, 0);font-variant-caps:normal;font-variant-ligatures:normal;letter-spacing:normal;orphans:2;white-space:pre-wrap;widows:2;word-spacing:0px;"><span style="background-color:rgb(246, 246, 246);color:rgb(18, 18, 18);font-size:0.9em;font-variant-caps:normal;font-variant-ligatures:normal;"><span style="border-radius: 0px; font-family: Menlo, Monaco, Consolas, &quot;Andale Mono&quot;, &quot;lucida console&quot;, &quot;Courier New&quot;, monospace;">      targetPort: 11800</span></span><br/></div></body></html>